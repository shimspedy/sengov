{{/* Get all pages in the "articles" section without pagination */}}
{{ $articlePages := where .Site.RegularPages "Section" "articles" }}

{{/* Loop through all the fetched pages */}}
{{ range $articlePages }}
<article id="{{ range  $categories := .Params.categories }} {{ $categories| lower }}{{ end }}"
  class="hentry post-contents {{ range  $categories := .Params.categories }} {{ $categories | lower }}{{ end }}"
  itemtype="http://schema.org/Article">
  <div class="card horizontal sen-elect">
    <a class="card-image entry-title" href="{{ .Permalink }}" title="{{ .Params.title }}">

      {{ if .Params.image }}
      <div class="thumb-img" style="background-image: url({{ .Site.BaseURL }}articles/{{ .Params.image }});"></div>
      {{ else }}
      <div class="thumb-img" style="background-image: url({{ .Site.BaseURL }}{{ .Params.defaulImage }});"></div>
      {{ end }}

    </a>
    {{- partial "summary.html" . -}}
  </div>
</article>
{{ end }}

{{/* Pagination controls removed */}}